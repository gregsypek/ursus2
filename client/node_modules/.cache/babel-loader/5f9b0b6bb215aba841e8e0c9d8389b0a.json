{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport API from \"../api\";\nexport default {\n  data() {\n    return {\n      rules: [value => !!value || \"This field is required!\"],\n      infoRules: [value => !!value || \"Informations about post are required\", value => value.length > 9 || \"A post info must have more or equal then 10 characters\"],\n      post: {\n        name: \"\",\n        price: \"\",\n        info: \"\",\n        image: \"\"\n      },\n      image: \"\",\n      errorMessage: \"\",\n      formValidity: false\n    };\n  },\n  methods: {\n    selectFile(file) {\n      console.log(\"ðŸš€ ~ file: AddPost.vue ~ line 37 ~ selectFile ~ file\", file);\n      this.image = file[0];\n    },\n    async submitForm() {\n      const formData = new FormData();\n      formData.append(\"image\", this.image);\n      formData.append(\"name\", this.post.name);\n      formData.append(\"price\", this.post.price);\n      formData.append(\"info\", this.post.info);\n      if (this.$refs.addPostForm.validate()) {\n        const response = await API.addPost(formData);\n        this.$router.push({\n          name: \"home\",\n          params: {\n            message: response.message\n          }\n        });\n      }\n    },\n    resetValidation() {\n      this.$refs.addPostForm.resetValidation();\n    },\n    resetForm() {\n      this.$refs.addPostForm.reset();\n    },\n    validateForm() {\n      this.$refs.addPostForm.validate();\n    }\n  },\n  computed: {\n    isLoggedIn() {\n      // return this.$store.state.user != null;\n      return localStorage.getItem(\"user\") != null;\n    }\n  }\n};","map":{"version":3,"mappings":";AAoGA;AACA;EACAA;IACA;MACAC;MACAC,YACAC,4DACAA,SACAA,oBACA,yDACA;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACA;IACA;IACA;MACA;MACAC;MACAA;MACAA;MACAA;MACA;QACA;QACA;UACAT;UACAU;YAAAC;UAAA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;EACA;AACA","names":["data","rules","infoRules","value","post","name","price","info","image","errorMessage","formValidity","methods","selectFile","console","formData","params","message","resetValidation","resetForm","validateForm","computed","isLoggedIn"],"sourceRoot":"src/views","sources":["AddPost.vue"],"sourcesContent":["<template>\n\t<section class=\"my-5\">\n\t\t<div class=\"container\">\n\t\t\t<div class=\"d-flex row justify-content-center g-5\">\n\t\t\t\t<aside class=\"d-none d-lg-block col-3\">\n\t\t\t\t\t<div class=\"rounded\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc=\"../../src/assets/logo-ursus.png\"\n\t\t\t\t\t\t\t\talt=\"logo\"\n\t\t\t\t\t\t\t\tclass=\"d-none d-xxl-block\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</aside>\n\t\t\t\t<main class=\"row col-12 col-lg-9 g-5\">\n\t\t\t\t\t<!-- <h1 class=\"mt-0\">Add new Post</h1> -->\n\n\t\t\t\t\t<div class=\"col-md\">\n\t\t\t\t\t\t<v-container>\n\t\t\t\t\t\t\t<v-row no-gutters>\n\t\t\t\t\t\t\t\t<v-col sm=\"10\" class=\"mx-auto\">\n\t\t\t\t\t\t\t\t\t<v-card class=\"p-5 my-5\">\n\t\t\t\t\t\t\t\t\t\t<v-card-title>Add New Post</v-card-title>\n\t\t\t\t\t\t\t\t\t\t<v-divider></v-divider>\n\n\t\t\t\t\t\t\t\t\t\t<v-form\n\t\t\t\t\t\t\t\t\t\t\tref=\"addPostForm\"\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"formValidity\"\n\t\t\t\t\t\t\t\t\t\t\t@submit.prevent=\"submitForm\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"pa-5\"\n\t\t\t\t\t\t\t\t\t\t\tenctype=\"multipart/form-data\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"post.name\"\n\t\t\t\t\t\t\t\t\t\t\t\tprepend-icon=\"mdi-note\"\n\t\t\t\t\t\t\t\t\t\t\t\t:rules=\"rules\"\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Price\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"post.price\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\tprepend-icon=\"mdi-view-list\"\n\t\t\t\t\t\t\t\t\t\t\t\t:rules=\"rules\"\n\t\t\t\t\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t\t\t\t\t<v-textarea\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Info\"\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"post.info\"\n\t\t\t\t\t\t\t\t\t\t\t\tprepend-icon=\"mdi-note-plus\"\n\t\t\t\t\t\t\t\t\t\t\t\t:rules=\"infoRules\"\n\t\t\t\t\t\t\t\t\t\t\t\tcounter\n\t\t\t\t\t\t\t\t\t\t\t></v-textarea>\n\t\t\t\t\t\t\t\t\t\t\t<v-file-input\n\t\t\t\t\t\t\t\t\t\t\t\t@change=\"selectFile\"\n\t\t\t\t\t\t\t\t\t\t\t\t:rules=\"rules\"\n\t\t\t\t\t\t\t\t\t\t\t\tshow-size\n\t\t\t\t\t\t\t\t\t\t\t\tcounter\n\t\t\t\t\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Select Image\"\n\t\t\t\t\t\t\t\t\t\t\t></v-file-input>\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"!formValidity\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-3 me-3\"\n\t\t\t\t\t\t\t\t\t\t\t\t>Add Post</v-btn\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-3 me-3\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"validateForm\"\n\t\t\t\t\t\t\t\t\t\t\t\t>Validate Form</v-btn\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-3 me-3 btn btn-validation\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"resetValidation\"\n\t\t\t\t\t\t\t\t\t\t\t\t>Reset Validation</v-btn\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-3 me-3 btn btn-reset\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click=\"resetForm\"\n\t\t\t\t\t\t\t\t\t\t\t\t>Reset</v-btn\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</v-form>\n\t\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t</v-row>\n\t\t\t\t\t\t</v-container>\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</div>\n\t</section>\n</template>\n\n<!--  -->\n\n<script>\nimport API from \"../api\";\nexport default {\n  data() {\n    return {\n      rules: [(value) => !!value || \"This field is required!\"],\n      infoRules: [\n        (value) => !!value || \"Informations about post are required\",\n        (value) =>\n          value.length > 9 ||\n          \"A post info must have more or equal then 10 characters\",\n      ],\n      post: {\n        name: \"\",\n        price: \"\",\n        info: \"\",\n        image: \"\",\n      },\n      image: \"\",\n      errorMessage: \"\",\n      formValidity: false,\n    };\n  },\n  methods: {\n    selectFile(file) {\n      console.log(\"ðŸš€ ~ file: AddPost.vue ~ line 37 ~ selectFile ~ file\", file);\n      this.image = file[0];\n    },\n    async submitForm() {\n      const formData = new FormData();\n      formData.append(\"image\", this.image);\n      formData.append(\"name\", this.post.name);\n      formData.append(\"price\", this.post.price);\n      formData.append(\"info\", this.post.info);\n      if (this.$refs.addPostForm.validate()) {\n        const response = await API.addPost(formData);\n        this.$router.push({\n          name: \"home\",\n          params: { message: response.message },\n        });\n      }\n    },\n    resetValidation() {\n      this.$refs.addPostForm.resetValidation();\n    },\n    resetForm() {\n      this.$refs.addPostForm.reset();\n    },\n    validateForm() {\n      this.$refs.addPostForm.validate();\n    },\n  },\n  computed: {\n    isLoggedIn() {\n      // return this.$store.state.user != null;\n      return localStorage.getItem(\"user\") != null;\n    },\n  },\n};\n</script>\n\n<style>\n.v-messages__message {\n  color: #f61b16;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}