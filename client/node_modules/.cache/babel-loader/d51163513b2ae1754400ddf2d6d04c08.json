{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport vuetify from \"./plugins/vuetify\";\nimport store from \"./vuex/store\";\nimport axios from \"axios\";\nVue.config.productionTip = false;\nnew Vue({\n  router,\n  store,\n  created() {\n    const userString = localStorage.getItem(\"user\");\n    if (userString) {\n      const userData = JSON.parse(userString);\n      this.$store.commit(\"SET_USER_DATA\", userData);\n    }\n\n    //works wth verifyToken method to prevent from fake token\n    axios.interceptors.response.use(response => response, error => {\n      console.log(error.response);\n      if (error.response.status === 401 && this.$route.name === \"add-post\") {\n        // this.$router.push(\"/\");\n        this.$router.push({\n          name: \"home\",\n          params: {\n            warning: \"You are not authorized to perform this action!\"\n          }\n        });\n        //to hide add-post page from navbar\n        setTimeout(() => {\n          this.$store.dispatch(\"logout\");\n        }, 5000);\n      }\n      if (error.response.status === 403 && this.$route.name === \"post\" || this.$route.name === \"edit-post\") {\n        this.$router.push({\n          name: \"home\",\n          params: {\n            warning: \"You do not have permission to perform this action!\"\n          }\n        });\n      }\n      if (error.response.status === 403 && this.$route.name === \"add-post\") {\n        this.$router.push({\n          name: \"home\",\n          params: {\n            warning: \"You do not have permission to create posts! Log in as admin!\"\n          }\n        });\n      }\n      return Promise.reject(error);\n    });\n  },\n  vuetify,\n  render: h => h(App)\n}).$mount(\"#app\");","map":{"version":3,"names":["Vue","App","router","vuetify","store","axios","config","productionTip","created","userString","localStorage","getItem","userData","JSON","parse","$store","commit","interceptors","response","use","error","console","log","status","$route","name","$router","push","params","warning","setTimeout","dispatch","Promise","reject","render","h","$mount"],"sources":["/Users/greg/Desktop/PROJECTS/URSUS/ursus2023/ursus2/client/src/main.js"],"sourcesContent":["import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport vuetify from \"./plugins/vuetify\";\nimport store from \"./vuex/store\";\nimport axios from \"axios\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n\trouter,\n\tstore,\n\tcreated() {\n\t\tconst userString = localStorage.getItem(\"user\");\n\t\tif (userString) {\n\t\t\tconst userData = JSON.parse(userString);\n\t\t\tthis.$store.commit(\"SET_USER_DATA\", userData);\n\t\t}\n\n\t\t//works wth verifyToken method to prevent from fake token\n\t\taxios.interceptors.response.use(\n\t\t\t(response) => response,\n\t\t\t(error) => {\n\t\t\t\tconsole.log(error.response);\n\t\t\t\tif (error.response.status === 401 && this.$route.name === \"add-post\") {\n\t\t\t\t\t// this.$router.push(\"/\");\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: \"home\",\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\twarning: \"You are not authorized to perform this action!\",\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\t//to hide add-post page from navbar\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.$store.dispatch(\"logout\");\n\t\t\t\t\t}, 5000);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t(error.response.status === 403 && this.$route.name === \"post\") ||\n\t\t\t\t\tthis.$route.name === \"edit-post\"\n\t\t\t\t) {\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: \"home\",\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\twarning: \"You do not have permission to perform this action!\",\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (error.response.status === 403 && this.$route.name === \"add-post\") {\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: \"home\",\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\twarning:\n\t\t\t\t\t\t\t\t\"You do not have permission to create posts! Log in as admin!\",\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn Promise.reject(error);\n\t\t\t}\n\t\t);\n\t},\n\tvuetify,\n\trender: (h) => h(App),\n}).$mount(\"#app\");\n"],"mappings":";AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,OAAO,MAAM,mBAAmB;AACvC,OAAOC,KAAK,MAAM,cAAc;AAChC,OAAOC,KAAK,MAAM,OAAO;AAEzBL,GAAG,CAACM,MAAM,CAACC,aAAa,GAAG,KAAK;AAEhC,IAAIP,GAAG,CAAC;EACPE,MAAM;EACNE,KAAK;EACLI,OAAO,GAAG;IACT,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAC/C,IAAIF,UAAU,EAAE;MACf,MAAMG,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC;MACvC,IAAI,CAACM,MAAM,CAACC,MAAM,CAAC,eAAe,EAAEJ,QAAQ,CAAC;IAC9C;;IAEA;IACAP,KAAK,CAACY,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC7BD,QAAQ,IAAKA,QAAQ,EACrBE,KAAK,IAAK;MACVC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACF,QAAQ,CAAC;MAC3B,IAAIE,KAAK,CAACF,QAAQ,CAACK,MAAM,KAAK,GAAG,IAAI,IAAI,CAACC,MAAM,CAACC,IAAI,KAAK,UAAU,EAAE;QACrE;QACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UACjBF,IAAI,EAAE,MAAM;UACZG,MAAM,EAAE;YACPC,OAAO,EAAE;UACV;QACD,CAAC,CAAC;QACF;QACAC,UAAU,CAAC,MAAM;UAChB,IAAI,CAACf,MAAM,CAACgB,QAAQ,CAAC,QAAQ,CAAC;QAC/B,CAAC,EAAE,IAAI,CAAC;MACT;MACA,IACEX,KAAK,CAACF,QAAQ,CAACK,MAAM,KAAK,GAAG,IAAI,IAAI,CAACC,MAAM,CAACC,IAAI,KAAK,MAAM,IAC7D,IAAI,CAACD,MAAM,CAACC,IAAI,KAAK,WAAW,EAC/B;QACD,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UACjBF,IAAI,EAAE,MAAM;UACZG,MAAM,EAAE;YACPC,OAAO,EAAE;UACV;QACD,CAAC,CAAC;MACH;MACA,IAAIT,KAAK,CAACF,QAAQ,CAACK,MAAM,KAAK,GAAG,IAAI,IAAI,CAACC,MAAM,CAACC,IAAI,KAAK,UAAU,EAAE;QACrE,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UACjBF,IAAI,EAAE,MAAM;UACZG,MAAM,EAAE;YACPC,OAAO,EACN;UACF;QACD,CAAC,CAAC;MACH;MACA,OAAOG,OAAO,CAACC,MAAM,CAACb,KAAK,CAAC;IAC7B,CAAC,CACD;EACF,CAAC;EACDjB,OAAO;EACP+B,MAAM,EAAGC,CAAC,IAAKA,CAAC,CAAClC,GAAG;AACrB,CAAC,CAAC,CAACmC,MAAM,CAAC,MAAM,CAAC"},"metadata":{},"sourceType":"module"}